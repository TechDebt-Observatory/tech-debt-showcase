#!/bin/bash
# Complete CVE Investigation Framework Deployment
# Run this script to copy the remaining files from Claude's outputs to your project

set -e

echo "==================================="
echo "Completing Framework Deployment"
echo "==================================="
echo ""

# Source directory (on Claude's computer)
SRC="/mnt/user-data/outputs/cve-investigation-framework"

# Destination directories (your project)
DEST_METHODOLOGY="/Users/basiladdington/Projects/tech-debt-showcase/methodology/cve-investigation-framework"
DEST_TOOLS="/Users/basiladdington/Projects/tech-debt-showcase/tools"
DEST_CASE_STUDY="/Users/basiladdington/Projects/tech-debt-showcase/case-studies/CVE-2023-3446-dhtest"

echo "[1/4] Copying test methodology..."
cp "$SRC/test_methodology_cve_2023_3446.md" "$DEST_METHODOLOGY/test_methodology.md"
echo "  ✓ test_methodology.md"

echo "[2/4] Copying data collection template..."
cp "$SRC/data_collection_template.md" "$DEST_METHODOLOGY/data_collection_template.md"
echo "  ✓ data_collection_template.md"

echo "[3/4] Copying forensics script..."
cp "$SRC/cve_2023_3446_forensics.sh" "$DEST_TOOLS/cve_2023_3446_forensics.sh"
chmod +x "$DEST_TOOLS/cve_2023_3446_forensics.sh"
echo "  ✓ cve_2023_3446_forensics.sh (executable)"

echo "[4/4] Copying case study README..."
cp "$SRC/DELIVERY_SUMMARY.md" "$DEST_CASE_STUDY/README.md"
echo "  ✓ CVE case study README.md"

echo ""
echo "==================================="
echo "Deployment Complete!"
echo "==================================="
echo ""
echo "Files placed:"
echo "  • methodology/cve-investigation-framework/ (6 files)"
echo "  • tools/cve_2023_3446_forensics.sh"
echo "  • case-studies/CVE-2023-3446-dhtest/README.md"
echo ""
echo "Next steps:"
echo "  1. Review: methodology/cve-investigation-framework/README.md"
echo "  2. Update paths in: tools/cve_2023_3446_forensics.sh"  
echo "  3. Clone OpenSSL repo to: local-repos/openssl"
echo "  4. Run forensics script"
echo ""
